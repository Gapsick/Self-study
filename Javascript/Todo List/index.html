<!-- 필요한 기능
 1. 할 일 추가 기능
 2. 할 일 목록 표시 기능
 3. 할 일 삭제 기능
 4. 남은 할 일 개수 표시 기능 -->

<!-- 
Todo List 동작 흐름
1. 입력을 받는다
2. 할 일 목록을 지정한다
3. 화면에 표시한다
4. 삭제 기능을 구현한다
5. 남은 할 일 개수를 표시한다.  -->

<!-- 
핵심 로직 정리
1. HTML에서 필요한 요소를 가져온다.
2. JavaScript에서 이벤트를 설정한다.
3. 배열을 사용하여 할 일 목록을 관리한다.
4. 화면을 동적으로 업데이트한다. -->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Todo List</title>
</head>
<body>
    <h2>Todo List</h2>
    <input type="text" id="todo-input">
    <button onclick="addTodo()">추가</button>
    <ul id="todo-list"></ul>

    <script>
        let todos = []; // 할 일 목록 저장

        function addTodo() {
            let input = document.getElementById("todo-input");  // 입력창 가져오기
            let todoText = input.value.trim();  // 입력된 텍스트 가져오기 (공백 제거)
            if (todoText === "") return;    // 빈 값이면 추가하지 않음
        

        todos.push(todoText);   // 할 일 목록 배열에 추가
        input.value = "";   // 입력창 비우기
        updateList();   // 화면 업데이트
        }

        function updateList() {
            let list = document.getElementById("todo-list");
            list.innerHTML = "";    // 기존 목록 지우기

            todos.forEach((todo, index) => {
                let li = document.createElement("li");  // <li> 요소 생성
                li.textContent = todo;  // <li> 안에 할 일 내용 넣기

                let button = document.createElement("button");  // <button> 생성
                button.textContent = "삭제";    // 버튼에 '삭제'라는 글자 추가
                button.onclick = () => removeTodo(index);   // 버튼 클릭 시 삭제 함수 실행

                li.appendChild(button); // <li> 안에 버튼 추가
                list.appendChild(li);   // <ul> 안에 <li> 추가가
            });
        }

        function removeTodo(index) {
            todos.splice(index, 1); // 배열에서 삭제
            updateList()
        }
    </script>
    
</body>
</html>