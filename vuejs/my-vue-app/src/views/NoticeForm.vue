<template>
    <div>
      <h1>ğŸ“¢ ê³µì§€ì‚¬í•­ ì‘ì„±</h1>
      
      <input v-model="title" placeholder="ê³µì§€ì‚¬í•­ ì œëª©" />
      <textarea v-model="content" placeholder="ê³µì§€ì‚¬í•­ ë‚´ìš©ì„ ì…ë ¥í•˜ì„¸ìš”"></textarea>
      <div>
      <button @click="submitNotice">ğŸ“Œ ë“±ë¡</button>
      <button @click="cancel">ë“±ë¡ ì·¨ì†Œ</button>
      </div>
    </div>
  </template>
  
<script>
  import { useNoticeStore } from "@/stores/noticeStore"; // âœ… Pinia Store ê°€ì ¸ì˜¤ê¸°
  
  export default {
    data() {
      return {
        title: "",     // âœ… ì…ë ¥ë°›ì„ ê³µì§€ì‚¬í•­ ì œëª©
        content: ""    // âœ… ì…ë ¥ë°›ì„ ê³µì§€ì‚¬í•­ ë‚´ìš©
      };
    },
    methods: {
      submitNotice() {
        // âœ… ì…ë ¥ê°’ì´ ë¹„ì–´ìˆìœ¼ë©´ ê²½ê³ ì°½ ë„ìš°ê¸°
        if (this.title.trim() === "" || this.content.trim() === "") {
          alert("ì œëª©ê³¼ ë‚´ìš©ì„ ì…ë ¥í•˜ì„¸ìš”!");
          return;
        }
  
        const noticeStore = useNoticeStore(); // âœ… Pinia Store ì‚¬ìš©
        noticeStore.addNotice(this.title, this.content);  // âœ… Pinia Storeì— ì €ì¥
        this.$router.push("/notice");  // âœ… ì €ì¥ í›„ NoticeBoard.vueë¡œ ì´ë™
      },
      cancel() {
        this.$router.push("/notice");   // ì·¨ì†Œ ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ê³µì§€ì‚¬í•­ ëª©ë¡ìœ¼ë¡œ ì´ë™
      }
    }
  };
</script>
  
  <style scoped>
  input, textarea {
    display: block;
    width: 100%;
    margin-bottom: 10px;
    padding: 10px;
  }
  button {
    background-color: blue;
    color: white;
    padding: 10px;
    cursor: pointer;
  }
  </style>
  