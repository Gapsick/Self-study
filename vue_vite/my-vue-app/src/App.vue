<script setup>
import { useAuthStore } from "@/stores/useAuthStore";
import { onMounted } from "vue";
import { useRouter } from "vue-router";

const authStore = useAuthStore();
const router = useRouter();

// ğŸš€ ì•±ì´ ì‹¤í–‰ë  ë•Œ JWT í™•ì¸ í›„ í˜ì´ì§€ ì´ë™
onMounted(() => {
  authStore.checkAuth();
  if (authStore.isAuthenticated) {
    router.push("/main"); // âœ… ë¡œê·¸ì¸ëœ ìƒíƒœë¼ë©´ ë©”ì¸ í˜ì´ì§€ë¡œ ì´ë™
  } else {
    router.push("/login"); // âœ… ë¡œê·¸ì¸ë˜ì§€ ì•Šì•˜ë‹¤ë©´ ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ ì´ë™
  }
});
</script>

<template>
  <router-view /> <!-- í˜„ì¬ ë¼ìš°íŠ¸ëœ í˜ì´ì§€ í‘œì‹œ -->
</template>
